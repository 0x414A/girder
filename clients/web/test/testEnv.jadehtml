doctype html
html(lang="en")
  head
    title Girder test environment
    link(href="../../test/lib/jasmine-1.3.1/jasmine.css", rel="stylesheet")
    script(src="testing.min.js")
    script(src="libs.min.js")

    each css in cssFiles
      link(href="#{css}", rel="stylesheet", type="text/css")
    each js in jsFiles
      script(src="#{js}", data-cover)

    script(type="text/javascript").
      (function () {
          window.blanketTestJasmineExpected=2;
          var jasmineEnv = jasmine.getEnv();
          var htmlReporter = new jasmine.HtmlReporter();
          var consoleReporter = new jasmine.ConsoleReporter();
          window.jasmine_phantom_reporter = consoleReporter;

          jasmineEnv.updateInterval = 1000;
          jasmineEnv.addReporter(htmlReporter);
          jasmineEnv.addReporter(consoleReporter);
          jasmineEnv.execute();

          var currentWindowOnload = window.onload;

          window.onload = function() {
              if (currentWindowOnload) {
                  currentWindowOnload();
              }
              execJasmine();
          };

          function execJasmine() {
              jasmineEnv.execute();
          }
      })();

  body
