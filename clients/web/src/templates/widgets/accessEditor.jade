.modal-dialog
  .modal-content
    .modal-header
      button.close(data-dismiss="modal", aria-hidden="true", type="button") &times;
      h4.modal-title Access Control
      .g-dialog-subtitle
        if (modelType == 'folder')
          i.icon-folder
        else if (modelType == 'collection')
          i.icon-sitemap
        | #{model.name()}
    .modal-body.g-access-modal-body
      .g-public-container
        .radio
          label
            input#g-access-private(type="radio", name="privacy",
                                   checked=(public ? undefined : "checked"))
            i.icon-lock
            | Private &mdash; Access is required to view this resource
        .radio
          label
            input#g-access-public(type="radio", name="privacy",
                                  checked=(public ? "checked" : undefined))
            i.icon-globe
            | Public &mdash; Anyone can view this resource
      #g-ac-list-groups.g-ac-list
        each groupAccess in accessList.groups
          .g-group-access-entry(groupid="#{groupAccess.id}")
            .g-access-col-left
              .g-access-icon: i.icon-users
              .g-access-desc
                .g-desc-title #{groupAccess.name}
                .g-desc-subtitle #{groupAccess.description}
            .g-access-col-right
              select
                - var sel=null; if (userAccess.level == accessTypes.READ) sel='selected';
                option(value="#{accessTypes.READ}", selected=sel) Can read
                - var sel=null; if (userAccess.level == accessTypes.WRITE) sel='selected';
                option(value="#{accessTypes.WRITE}", selected=sel) Can edit
                - var sel=null; if (userAccess.level == accessTypes.ADMIN) sel='selected';
                option(value="#{accessTypes.ADMIN}", selected=sel) Is owner
              a.g-action-remove-access(title="Remove access")
                i.icon-block
      #g-ac-list-users.g-ac-list
        each userAccess in accessList.users
          .g-user-access-entry(userid="#{userAccess.id}")
            .g-access-col-left
              .g-access-icon: i.icon-user
              .g-access-desc
                .g-desc-title #{userAccess.name}
                .g-desc-subtitle #{userAccess.login}
            .g-access-col-right
              select
                - var sel=null; if (userAccess.level == accessTypes.READ) sel='selected';
                option(value="#{accessTypes.READ}", selected=sel) Can read
                - var sel=null; if (userAccess.level == accessTypes.WRITE) sel='selected';
                option(value="#{accessTypes.WRITE}", selected=sel) Can edit
                - var sel=null; if (userAccess.level == accessTypes.ADMIN) sel='selected';
                option(value="#{accessTypes.ADMIN}", selected=sel) Is owner
              a.g-action-remove-access(title="Remove access")
                i.icon-block

      .g-grant-access-container
        form(role="form")
          .form-group
            label(for="addAccess") Grant access to another group or user
            input#g-add-access.form-control.input-sm(name="addAccess",
              type="text", placeholder="Start typing a name...")
    .modal-footer
      a.btn.btn-small.btn-default(data-dismiss="modal") Close
      button.g-save-access-list.btn.btn-small.btn-primary(type="submit")
        i.icon-key-1
        |  Save
